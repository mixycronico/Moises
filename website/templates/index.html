{% extends "base.html" %}

{% block title %}Genesis - Sistema Trascendental de Trading{% endblock %}

{% block additional_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
<style>
    /* Estilos específicos para la animación del logo principal */
    .genesis-main-logo {
        width: 200px;
        height: 200px;
        margin: 0 auto 2rem;
        animation: float-rotate 6s ease-in-out infinite, glow 3s ease-in-out infinite alternate;
        filter: drop-shadow(0 0 15px rgba(0, 255, 255, 0.7));
        transition: all 0.5s ease;
    }
    
    .genesis-main-logo:hover {
        transform: scale(1.1);
        filter: drop-shadow(0 0 25px rgba(255, 0, 255, 0.8));
    }
    
    @keyframes float-rotate {
        0% { transform: translateY(0) rotate(0deg); }
        25% { transform: translateY(-20px) rotate(5deg); }
        50% { transform: translateY(0) rotate(0deg); }
        75% { transform: translateY(10px) rotate(-5deg); }
        100% { transform: translateY(0) rotate(0deg); }
    }
    
    @keyframes glow {
        0% { filter: drop-shadow(0 0 15px rgba(0, 255, 255, 0.7)); }
        33% { filter: drop-shadow(0 0 15px rgba(255, 0, 255, 0.7)); }
        66% { filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.7)); }
        100% { filter: drop-shadow(0 0 15px rgba(0, 255, 255, 0.7)); }
    }
    
    .cosmic-particles {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -1;
    }
    
    .particle {
        position: absolute;
        width: 2px;
        height: 2px;
        background-color: white;
        border-radius: 50%;
        opacity: 0.7;
        animation: particle-float 20s linear infinite;
    }
    
    @keyframes particle-float {
        0% { transform: translateY(0) translateX(0); opacity: 0; }
        50% { opacity: 0.7; }
        100% { transform: translateY(-100vh) translateX(100px); opacity: 0; }
    }
    
    .welcome-title {
        font-family: 'Orbitron', sans-serif;
        font-size: 3.5rem;
        margin-bottom: 1rem;
        text-align: center;
        letter-spacing: 2px;
    }
    
    .subtitle {
        font-family: 'Orbitron', sans-serif;
        margin-bottom: 2rem;
        text-align: center;
        font-size: 1.5rem;
        letter-spacing: 1px;
    }
    
    .description {
        text-align: center;
        max-width: 800px;
        margin: 0 auto 3rem;
        font-size: 1.1rem;
        line-height: 1.8;
    }
    
    .cta-container {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 2rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="cosmic-particles" id="particles-container">
    <!-- Partículas se añadirán con JavaScript -->
</div>

<div class="welcome-section">
    <div class="hero">
        <div class="genesis-main-logo">
            <img src="{{ url_for('static', filename='img/genesis-logo.png') }}" alt="Genesis Logo" width="100%" height="100%">
        </div>
        
        <h1 class="welcome-title holographic-text">Genesis</h1>
        <h2 class="subtitle glow-text">Sistema Trascendental de Trading</h2>
        
        <p class="description">
            Una plataforma inmersiva y altamente funcional con tecnología de Singularidad V4, 
            inteligencia artificial adaptativa y resiliencia trascendental que garantiza un rendimiento 
            sin precedentes en el mercado de criptomonedas.
        </p>
        
        <div class="cta-container">
            {% if not session.get('logged_in') %}
                <a href="{{ url_for('login') }}" class="btn btn-primary glow-button">
                    <i class="fas fa-sign-in-alt"></i> Ingresar al Sistema
                </a>
            {% else %}
                {% if session.get('role') == 'investor' %}
                    <a href="{{ url_for('investor_home') }}" class="btn btn-primary glow-button">
                        <i class="fas fa-chart-line"></i> Mi Inversión
                    </a>
                {% else %}
                    <a href="{{ url_for('dashboard') }}" class="btn btn-primary glow-button">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a>
                {% endif %}
            {% endif %}
        </div>
    </div>
</div>

<div class="capabilities-section">
    <h2 class="section-title">Capacidades Trascendentales</h2>
    <div class="capabilities-grid">
        <div class="capability-card">
            <div class="capability-icon"><i class="fas fa-brain"></i></div>
            <h3 class="glow-cyan">Singularidad V4</h3>
            <p>Arquitectura híbrida de procesamiento que alcanza intensidades superiores a 1000.0 con 100% de eficacia en condiciones extremas.</p>
        </div>
        <div class="capability-card">
            <div class="capability-icon"><i class="fas fa-shield-alt"></i></div>
            <h3 class="glow-magenta">Resiliencia Total</h3>
            <p>Mecanismos de Colapso Dimensional, Horizonte de Eventos y Tiempo Cuántico que garantizan operación continua incluso durante fallas catastróficas.</p>
        </div>
        <div class="capability-card">
            <div class="capability-icon"><i class="fas fa-atom"></i></div>
            <h3 class="glow-gold">Database Trascendental</h3>
            <p>Sistema de almacenamiento con persistencia interdimensional que transmuta errores y mantiene coherencia de datos en todo momento.</p>
        </div>
        <div class="capability-card">
            <div class="capability-icon"><i class="fas fa-chart-line"></i></div>
            <h3 class="glow-cyan">Reinforcement Ensemble</h3>
            <p>Estrategia adaptativa que combina múltiples algoritmos de aprendizaje por refuerzo para optimizar decisiones de trading.</p>
        </div>
        <div class="capability-card">
            <div class="capability-icon"><i class="fas fa-sync-alt"></i></div>
            <h3 class="glow-magenta">Escalabilidad Adaptativa</h3>
            <p>Ajuste automático de operaciones según el capital disponible, manteniendo rendimiento óptimo desde pequeñas a grandes inversiones.</p>
        </div>
        <div class="capability-card">
            <div class="capability-icon"><i class="fas fa-project-diagram"></i></div>
            <h3 class="glow-gold">WebSocket Trascendental</h3>
            <p>Comunicación híbrida API+WebSocket que elimina deadlocks y garantiza flujo de datos ininterrumpido entre componentes.</p>
        </div>
    </div>
</div>

<div class="modes-section">
    <h2 class="section-title">Modos Trascendentales</h2>
    <div class="modes-carousel">
        <div class="mode-card active" data-mode="SINGULARIDAD_V4">
            <div class="mode-title">Singularidad V4</div>
            <div class="mode-description">Núcleo del sistema que combina todos los mecanismos trascendentales para crear un sistema de trading perfecto.</div>
            <div class="mode-metrics">
                <div class="mode-metric">
                    <span class="metric-value">100%</span>
                    <span class="metric-label">Tasa de Éxito</span>
                </div>
                <div class="mode-metric">
                    <span class="metric-value">1000.0</span>
                    <span class="metric-label">Intensidad</span>
                </div>
            </div>
        </div>
        <div class="mode-card" data-mode="LUZ">
            <div class="mode-title">Modo Luz</div>
            <div class="mode-description">Optimizado para velocidad y precisión. Corrige anomalías temporales y mantiene la estabilidad del sistema.</div>
        </div>
        <div class="mode-card" data-mode="MATERIA_OSCURA">
            <div class="mode-title">Materia Oscura</div>
            <div class="mode-description">Máxima resiliencia. Convierte errores en éxitos y mantiene el sistema funcionando incluso cuando parece caído.</div>
        </div>
        <div class="mode-card" data-mode="DIVINO">
            <div class="mode-title">Modo Divino</div>
            <div class="mode-description">Análisis y predicción con capacidades que trascienden los límites convencionales del trading algorítmico.</div>
        </div>
    </div>
    <div class="mode-indicators">
        <span class="mode-indicator active" data-index="0"></span>
        <span class="mode-indicator" data-index="1"></span>
        <span class="mode-indicator" data-index="2"></span>
        <span class="mode-indicator" data-index="3"></span>
    </div>
</div>

<div class="system-status">
    <h2 class="section-title">Estado del Sistema</h2>
    <div class="status-container">
        <div class="status-card">
            <div class="status-header">
                <span class="status-title">Modo Operativo</span>
                <span class="status-value mode-name">{{ system_status.mode if system_status else "SINGULARIDAD_V4" }}</span>
            </div>
            <div class="status-meter">
                <div class="meter-track">
                    <div class="meter-fill" style="width: 100%"></div>
                </div>
            </div>
        </div>
        
        <div class="status-card">
            <div class="status-header">
                <span class="status-title">Tasa de Éxito</span>
                <span class="status-value">{{ system_status.success_rate if system_status else "100" }}%</span>
            </div>
            <div class="status-meter">
                <div class="meter-track">
                    <div class="meter-fill" style="width: {{ system_status.success_rate if system_status else 100 }}%"></div>
                </div>
            </div>
        </div>
        
        <div class="status-card">
            <div class="status-header">
                <span class="status-title">Componentes Activos</span>
                <span class="status-value">{{ system_status.components_active if system_status else "5" }}/5</span>
            </div>
            <div class="status-meter">
                <div class="meter-track">
                    <div class="meter-fill" style="width: {{ (system_status.components_active if system_status else 5) * 20 }}%"></div>
                </div>
            </div>
        </div>
        
        <div class="status-card">
            <div class="status-header">
                <span class="status-title">Tiempo de Actividad</span>
                <span class="status-value">{{ system_status.uptime_hours if system_status else "267" }} horas</span>
            </div>
            <div class="status-meter">
                <div class="meter-track">
                    <div class="meter-fill pulse" style="width: 100%"></div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Crear partículas para el fondo cósmico
document.addEventListener('DOMContentLoaded', function() {
    const particlesContainer = document.getElementById('particles-container');
    const numberOfParticles = 100;
    
    // Crear partículas
    for (let i = 0; i < numberOfParticles; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        
        // Posición aleatoria
        const randomX = Math.floor(Math.random() * 100);
        const randomY = Math.floor(Math.random() * 100);
        particle.style.left = `${randomX}%`;
        particle.style.top = `${randomY}%`;
        
        // Tamaño aleatorio
        const size = Math.random() * 3 + 1;
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        
        // Color aleatorio (cyan, magenta o dorado)
        const colors = ['rgba(0, 255, 255, 0.8)', 'rgba(255, 0, 255, 0.8)', 'rgba(255, 215, 0, 0.8)'];
        const randomColor = colors[Math.floor(Math.random() * colors.length)];
        particle.style.backgroundColor = randomColor;
        
        // Duración y retraso de animación aleatorios
        const duration = Math.random() * 20 + 10;
        const delay = Math.random() * 10;
        particle.style.animation = `particle-float ${duration}s linear ${delay}s infinite`;
        
        particlesContainer.appendChild(particle);
    }
    
    // Controles del carrusel de modos
    const modeCards = document.querySelectorAll('.mode-card');
    const modeIndicators = document.querySelectorAll('.mode-indicator');
    
    modeIndicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            // Desactivar todos
            modeCards.forEach(card => card.classList.remove('active'));
            modeIndicators.forEach(ind => ind.classList.remove('active'));
            
            // Activar el seleccionado
            modeCards[index].classList.add('active');
            indicator.classList.add('active');
        });
    });
});
</script>
{% endblock %}